CREATE TABLE DAYS (
 WeekDay		VARCHAR(11),
 DateID			INT,
 CONSTRAINT DAYS_PRIMARY_KEY PRIMARY KEY (DateID));
 /*DAY TABLE*/
 
CREATE TABLE STUDENT (
 STDID			NUMERIC(9),
 UDoPW			VARCHAR(30),
 STDNAME		VARCHAR(30),
 CONSTRAINT STUDENT_PRIMARY_KEY PRIMARY KEY (STDID));
 /*STUDENT TABLE*/
 
CREATE TABLE STAFF (
 STAFFID			INT NOT NULL AUTO_INCREMENT,
 STAFNAME			VARCHAR(30),
 Email				VARCHAR(30),
 OfficeNUM			VARCHAR(6),
 OfficePhone		VARCHAR(13),
 OfficeHours		VARCHAR(15),
 CONSTRAINT STAFF_PRIMARY_KEY PRIMARY KEY (STAFFID));
 /*STAFF TABLE with STAFFID as an auto increment*/
 
 CREATE TABLE S_TYPES (
  TYPEID			INT(1),
  S_TYPE			VARCHAR(30),
  CONSTRAINT S_TYPES_PRIMARY_KEY PRIMARY KEY (TYPEID));
  /*SESSION TYPE TABLE*/
  
CREATE TABLE MODULES (
 MCode			VARCHAR(10),
 MODName		VARCHAR(10),
 MLeader		INT(10),
 CONSTRAINT MODULES_PRIMARY_KEY PRIMARY KEY (MCode),
 CONSTRAINT MODULES_FOREIGN_KEY FOREIGN KEY (MLeader) REFERENCES STAFF(STAFFID));
 /*MODULES TABLE*/
 
 CREATE TABLE TUTORIAL_GROUPS (
 GRID			INT,
 MCode			VARCHAR(10),
 ROOM			VARCHAR(10),
 WeekDay		VARCHAR(9),
 STIME			TIME,
 ETIME 			TIME,
 CONSTRAINT TUTORIAL_GROUPS_PRIMARY_KEY PRIMARY KEY (GRID, MCode),
 CONSTRAINT TUTORIAL_GROUPS_FOREIGN_KEY FOREIGN KEY (MCode) REFERENCES MODULES(MCode));
/*TUTORIAL GROUPS TABLE*/

CREATE TABLE ASSIGNMENTS (
 AssID			INT NOT NULL AUTO_INCREMENT,
 MCode			VARCHAR(10),
 DEADLINE		DATE,
 DEADTime		TIME,
 DESCRIPTION	VARCHAR(30),
 CONSTRAINT ASSIGNMENTS_PRIMARY_KEY	PRIMARY KEY (AssID, MCode, DEADLINE),
 CONSTRAINT ASSIGNMENTS_FOREIGN_KEY FOREIGN KEY (MCode) REFERENCES MODULES(MCode));
 /*ASSIGNMENTS TABLE AssID is set to auto increment*/
 
 CREATE TABLE TUTORS (
 STAFFID		INT,
 MCode			VARCHAR(10),
 CONSTRAINT TUTORS_PRIMARY_KEY PRIMARY KEY (STAFFID, MCode),
 CONSTRAINT TUTORS_FOREIGN_KEY FOREIGN KEY (STAFFID) REFERENCES STAFF(STAFFID),
 CONSTRAINT TUTORS_FOREIGN_KEY2 FOREIGN KEY (MCode) REFERENCES MODULES(MCode));
 /*TUTORS TABLE*/
 
CREATE TABLE ENROLMENT (
STDID		NUMERIC(9),
MCode		VARCHAR(10),
CONSTRAINT ENROLMENT_PRIMARY_KEY PRIMARY KEY (STDID, MCode),
CONSTRAINT ENROLMENT_FOREIGN_KE KEY (MCode) REFERENCES MODULES(MCode));
/*ENROLMENT TABLE*/
 
CREATE TABLE SCHEDULE (
S_ID			INT NOT NULL AUTO_INCREMENT,
WeekDay			VARCHAR(9),
STIME			TIME,
ETIME			TIME,
MCode			VARCHAR(10),
Room			VARCHAR(10),
CONSTRAINT SCHEDULE_PRIMARY_KEY PRIMARY KEY (S_ID),
CONSTRAINT SCHEDULE_FOREIGN_KEY FOREIGN KEY (MCode) REFERENCES MODULES(MCode));
/*SCHEDULE TABLE S_ID is set to auto increment*/

CREATE TABLE SEVENTS (
EVID			INT NOT NULL AUTO_INCREMENT,
STDID			NUMERIC(9),
DATEID		DATE,
STIME			TIME,
ETIME			TIME,
DESCR 		VARCHAR(30),
CONSTRAINT SEVENTS_PRIMARY_KEY PRIMARY KEY (EVID, STDID),
CONSTRAINT SEVENTS_FOREIGN_KEY FOREIGN KEY (STDID) REFERENCES STUDENT(STDID));
/*SOCIAL EVENTS TABLE*/

CREATE TABLE S_GROUPS (
STDID			NUMERIC(9),
GRID			INT,
MCode			VARCHAR(10),
CONSTRAINT S_GROUPS_PRIMARY_KEY PRIMARY KEY (STDID, MCode),
CONSTRAINT S_GROUPS_FOREIGN_KEY1 FOREIGN KEY (STDID) REFERENCES STUDENT(STDID),
CONSTRAINT S_GROUPS_FOREIGN_KEY2 FOREIGN KEY (GRID) REFERENCES TUTORIAL_GROUPS(GRID),
CONSTRAINT S_GROUPS_FOREIGN_KEY3 FOREIGN KEY (MCode) REFERENCES MODULES(MCode));
/*TABLE TO FILTER STUDENT GROUPS*/

/*All above code builds the tables*/
/*The Following Code populates the tables*/

/*TABLE DAYS*/
INSERT INTO DAYS VALUES ('Monday', '1');
INSERT INTO DAYS VALUES ('Tuesday', '2');
INSERT INTO DAYS VALUES ('Wednesday', '3');
INSERT INTO DAYS VALUES ('Thursday', '4');
INSERT INTO DAYS VALUES ('Friday', '5');
INSERT INTO DAYS VALUES ('Saturday', '6');
INSERT INTO DAYS VALUES ('Sunday', '7');

/*student table */
INSERT INTO STUDENT VALUES ('123123456','xc8rxc8r', NULL);
INSERT INTO STUDENT VALUES ('121212121','spiderman', NULL);

/*STAFF TABLE*/
INSERT INTO STAFF VALUES (NULL, 'Dave Voorhis', 'd.voorhis@derby.ac.uk', 'B208', '1410', 'Thu 13 - 17');
INSERT INTO STAFF VALUES (NULL, 'Chris Windmill', 'c.windmill@derby.ac.uk','E516','9216','Fri 12 - 16');
INSERT INTO STAFF VALUES (NULL, 'Amanda Whitebrook', 'a.whitebrook@derby.ac.uk','E516','9989','Tue 13 - 17');
INSERT INTO STAFF VALUES (NULL, 'Wayne Rippin','w.rippen@derby.ac.uk','B208','8989','Thu 9 - 12');
INSERT INTO STAFF VALUES (NULL, 'Nige','n.jones@derby.ac.uk','N404',NULL,NULL);
INSERT INTO STAFF VALUES (NULL, 'Casey','c.zog@derby.ac.uk',NULL,NULL,NULL);
INSERT INTO STAFF VALUES (NULL, 'Jack',NULL,'N210',NULL,NULL);
INSERT INTO STAFF VALUES (NULL, 'Farhan',NULL,'E512',NULL,NULL);
INSERT INTO STAFF VALUES (NULL, 'Andy','a.zhang@derby.ac.uk',NULL,NULL,NULL);

/*SESSION TYPE*/
INSERT INTO S_TYPES VALUES ('1','Lecture');
INSERT INTO S_TYPES VALUES ('2','Tutorial');

/*MODULES*/
INSERT INTO MODULES VALUES ('5CC507', 'Databases', '1');
INSERT INTO MODULES VALUES ('5CC518', 'Team Project','1');
INSERT INTO MODULES VALUES ('5CC516', 'Software Engineering', '2');
INSERT INTO MODULES VALUES ('4CC510', 'Programming I', '3');
INSERT INTO MODULES VALUES ('4CC511', 'Programming II', '4');

/*ASSIGNMENTS*/
INSERT INTO ASSIGNMENTS VALUES (NULL,'5CC507','2016-10-5','17:00','Milestone 1');
INSERT INTO ASSIGNMENTS VALUES (NULL,'5CC507','2016-11-5','23:59','Milestone 2');
INSERT INTO ASSIGNMENTS VALUES (NULL,'5CC507','2016-12-11','23:59','Project hand-in');
INSERT INTO ASSIGNMENTS VALUES (NULL,'5CC518','2016-12-11','23:59','Performance review');
INSERT INTO ASSIGNMENTS VALUES (NULL,'5CC516','2016-12-11','23:59','Portfolion hand-in');
INSERT INTO ASSIGNMENTS VALUES (NULL,'4CC510','2016-12-11','17:00','Portfolion hand-in');
INSERT INTO ASSIGNMENTS VALUES (NULL,'4CC511','2016-10-17','23:59','Project hand-in');
INSERT INTO ASSIGNMENTS VALUES (NULL,'4CC511','2016-12-11','12:00','Quiz');

/*TUTORS*/
INSERT INTO TUTORS VALUES ('5','5CC507');
INSERT INTO TUTORS VALUES ('6','5CC518');
INSERT INTO TUTORS VALUES ('7','5CC516');
INSERT INTO TUTORS VALUES ('8','5CC507');
INSERT INTO TUTORS VALUES ('9','4CC511');

/*ENROLMENT*/
INSERT INTO ENROLMENT VALUES ('123123456','5CC507');
INSERT INTO ENROLMENT VALUES ('123123456','5CC518');
INSERT INTO ENROLMENT VALUES ('123123456','5CC516');
INSERT INTO ENROLMENT VALUES ('123123456','4CC510');
INSERT INTO ENROLMENT VALUES ('121212121','5CC518');
INSERT INTO ENROLMENT VALUES ('121212121','5CC516');

/*SCHEDULE*/
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','18:00','19:00','5CC507','B301');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','09:00','10:00','5CC507','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','11:00','12:00','5CC507','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','13:00','14:00','5CC507','B203');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','10:00','11:00','5CC507','B204a');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','11:00','12:00','5CC507','B205');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','13:00','14:00','5CC507','B212');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','13:00','14:00','5CC518','T204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','09:00','10:00','5CC518','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','11:00','12:00','5CC518','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','13:00','14:00','5CC518','B203');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','10:00','11:00','5CC518','B204a');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','11:00','12:00','5CC518','B205');
INSERT INTO SCHEDULE VALUES (NULL, 'Thursday','13:00','14:00','5CC518','B212');
INSERT INTO SCHEDULE VALUES (NULL, 'Friday','10:00','11:00','5CC518','N416');
INSERT INTO SCHEDULE VALUES (NULL, 'Thursday','12:00','13:00','5CC516','N110');
INSERT INTO SCHEDULE VALUES (NULL,'Wednesday','11:00','12:00','5CC516','B212');
INSERT INTO SCHEDULE VALUES (NULL, 'Thursday','11:00','12:00','5CC516','B204a');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','16:00','17:00','4CC510','OL1');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','09:00','10:00','4CC510','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','09:00','17:00','4CC510','B204a');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','18:00','19:00','4CC511','B301');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','09:00','10:00','4CC511','204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','11:00','12:00','4CC511','B204');
INSERT INTO SCHEDULE VALUES (NULL, 'Monday','13:00','14:00','4CC511','B203');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','10:00','11:00','4CC511','B204a');
INSERT INTO SCHEDULE VALUES (NULL, 'Tuesday','11:00','12:00','4CC511','B205');
INSERT INTO SCHEDULE VALUES (NULL, 'Thursday','13:00','14:00','4CC511','B212');

/*SOCIAL EVENTS*/
INSERT INTO SEVENTS VALUES (NULL,'123123456','2016-10-23','19:00','23:00','Pub - Standing Order');
INSERT INTO SEVENTS VALUES (NULL,'123123456','2016-11-29','12:00','14:00','Sunday lunch');
INSERT INTO SEVENTS VALUES (NULL,'121212121','2016-11-13','12:00','14:00','Gym');
INSERT INTO SEVENTS VALUES (NULL,'121212121','2016-11-13','13:00','15:00','Team meeting');

/*TUTORIAL GROUPS*/
INSERT INTO TUTORIAL_GROUPS VALUES (1,'5CC507','B204','Monday','09:00','10:00');
INSERT INTO TUTORIAL_GROUPS VALUES (2,'5CC507','B204','Monday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (3,'5CC507','B203','Monday','13:00','14:00');
INSERT INTO TUTORIAL_GROUPS VALUES (4,'5CC507','B204a','Tuesday','10:00','11:00');
INSERT INTO TUTORIAL_GROUPS VALUES (5,'5CC507','B205','Tuesday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (6,'5CC507','B212','Thursday','13:00','14:00');
INSERT INTO TUTORIAL_GROUPS VALUES (1,'5CC518','B203','Monday','09:00','10:00');
INSERT INTO TUTORIAL_GROUPS VALUES (2,'5CC518','B212','Monday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (3,'5CC518','B203','Monday','13:00','14:00');
INSERT INTO TUTORIAL_GROUPS VALUES (4,'5CC518','B204a','Tuesday','10:00','11:00');
INSERT INTO TUTORIAL_GROUPS VALUES (5,'5CC518','B205','Tuesday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (6,'5CC518','B212','Thursday','13:00','14:00');
INSERT INTO TUTORIAL_GROUPS VALUES (7,'5CC518','N416','Friday','10:00','11:');
INSERT INTO TUTORIAL_GROUPS VALUES (1,'5CC516','B212','Wednesday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (2,'5CC516','B202','Thursday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (1,'4CC510','B204','Tuesday','09:00','17:00');
INSERT INTO TUTORIAL_GROUPS VALUES (2,'4CC510','B204a','Tuesday','09:00','17:00');
INSERT INTO TUTORIAL_GROUPS VALUES (1,'4CC511','B204','Monday','09:00','10:00');
INSERT INTO TUTORIAL_GROUPS VALUES (2,'4CC511','B204','Monday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (3,'4CC511','B203','Monday','13:00','14:00');
INSERT INTO TUTORIAL_GROUPS VALUES (4,'4CC511','B204a','Tuesday','10:00','11:00');
INSERT INTO TUTORIAL_GROUPS VALUES (5,'4CC511','B205','Tuesday','11:00','12:00');
INSERT INTO TUTORIAL_GROUPS VALUES (6,'4CC511','B212','Thursday','13:00','14:00');

/*STUDENT SELECTED TUTORIAL SLOT*/
INSERT INTO S_GROUPS VALUES ('123123456',3,'5CC507');
INSERT INTO S_GROUPS VALUES ('123123456',1,'5CC518');
INSERT INTO S_GROUPS VALUES ('123123456',2,'5CC516');
INSERT INTO S_GROUPS VALUES ('123123456',1,'4CC510');
INSERT INTO S_GROUPS VALUES ('121212121',6,'5CC518');
INSERT INTO S_GROUPS VALUES ('121212121',2,'5CC516');